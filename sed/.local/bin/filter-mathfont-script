#!/bin/sh

# Usage: ... | $0 [-l] [EXTRA_SED_STUFF]...
# print the intput but replace ASCII letters with (UTF-8 encoded)
# unicode "script" characters
#
# -l option will replace 'l' and 'P' with letters from the
#    'Letterlike Symbols' block instead of the 'Mathematical
#    Alphanumeric Symbols' block (see below).
#
# -------------------------------------------------------------------
#
# Script symbols are located in the Unicode blocks of 'Mathematical
# Alphanumeric Symbols' and 'letterlike sysmbols':
#
# 1) Mathematical Alphanumeric Symbols:
#    Unicode block (in the SMP, range U+1D400..U+1D7FF) of Latin and
#    Greek letters and decimal digits that enable mathematicians to
#    denote different notions with different letter styles.
#
# 2) Letterlike symbols:
#    Unicode originally included a limited set of letters meant for
#    math in its 'Letterlike Symbols' block before completing the
#    'Mathematical Alphanumeric Symbols' block. So the following
#    script characters are in this block:
#
#    B, E, F, H, I, L, M, R, e, g, o
#
#    In addition, the following script characters are also in the
#    'Letterlike Symbols' block and could/should have been used
#    instead, but have not (and due to Unicode stability policies
#    this won't be corrected) :
#
#    l (symbol for litre)
#    P (Weierstrass p)
#
#    -l option will replace l and P with those instead of those in
#       mathematical alphanumeric symbol block
#
# Note that those are normally meant to be used only in mathematics.
# Unicode expressly recommends that these characters not be used in
# general text as a substitute for presentational markup; the letters
# are specifically designed to be semantically different from each
# other.
#
# References:
# * https://en.wikipedia.org/wiki/Mathematical_Alphanumeric_Symbols
# * https://en.wikipedia.org/wiki/Letterlike_Symbols


l='ğ“' # U+1D4C1 MATHEMATICAL SCRIPT SMALL L
P='ğ’«' # U+1D4AB MATHEMATICAL SCRIPT CAPITAL P
if [ "$1" = '-l' ]; then
   l='â„“' # U+2113 SCRIPT SMALL L
   P='â„˜' # U+2118 SCRIPT CAPITAL P
   shift
fi

sed -e 's/A/ğ’œ/g' -e 's/B/â„¬/g' -e 's/C/ğ’/g' -e 's/D/ğ’Ÿ/g'  \
    -e 's/E/â„°/g' -e 's/F/â„±/g' -e 's/G/ğ’¢/g' -e 's/H/â„‹/g'  \
    -e 's/I/â„/g' -e 's/J/ğ’¥/g' -e 's/K/ğ’¦/g' -e 's/L/â„’/g'  \
    -e 's/M/â„³/g' -e 's/N/ğ’©/g' -e 's/O/ğ’ª/g' -e "s/P/$P/g" \
    -e 's/Q/ğ’¬/g' -e 's/R/â„›/g' -e 's/S/ğ’®/g' -e 's/T/ğ’¯/g'  \
    -e 's/U/ğ’°/g' -e 's/V/ğ’±/g' -e 's/W/ğ’²/g' -e 's/X/ğ’³/g'  \
    -e 's/Y/ğ’´/g' -e 's/Z/ğ’µ/g'                            \
    -e 's/a/ğ’¶/g' -e 's/b/ğ’·/g' -e 's/c/ğ’¸/g' -e 's/d/ğ’¹/g'  \
    -e 's/e/â„¯/g' -e 's/f/ğ’»/g' -e 's/g/â„Š/g' -e 's/h/ğ’½/g'  \
    -e 's/i/ğ’¾/g' -e 's/j/ğ’¿/g' -e 's/k/ğ“€/g' -e "s/l/$l/g" \
    -e 's/m/ğ“‚/g' -e 's/n/ğ“ƒ/g' -e 's/o/â„´/g' -e 's/p/ğ“…/g'  \
    -e 's/q/ğ“†/g' -e 's/r/ğ“‡/g' -e 's/s/ğ“ˆ/g' -e 's/t/ğ“‰/g'  \
    -e 's/u/ğ“Š/g' -e 's/v/ğ“‹/g' -e 's/w/ğ“Œ/g' -e 's/x/ğ“/g'  \
    -e 's/y/ğ“/g' -e 's/z/ğ“/g'                            \
    "$@"
